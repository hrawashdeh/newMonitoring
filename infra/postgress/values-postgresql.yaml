
auth:
  existingSecret: infra-secrets
  username: alerts_user
  database: alerts_db
  secretKeys:
    adminPasswordKey: postgres-admin-password
    userPasswordKey: postgres-app-password

primary:
  persistence:
    enabled: true
    size: 10Gi
    storageClass: local-path

  podSecurityContext:
    enabled: true
    fsGroup: 1001
    fsGroupChangePolicy: "Always"

  containerSecurityContext:
    enabled: true
    runAsUser: 1001
    runAsGroup: 1001
    runAsNonRoot: true

  # Increase probe timeouts for stability during migrations
  livenessProbe:
    enabled: true
    initialDelaySeconds: 30
    periodSeconds: 10
    timeoutSeconds: 15
    failureThreshold: 10
    successThreshold: 1

  readinessProbe:
    enabled: true
    initialDelaySeconds: 5
    periodSeconds: 10
    timeoutSeconds: 15
    failureThreshold: 10
    successThreshold: 1

volumePermissions:
  enabled: true
  securityContext:
    runAsUser: 0